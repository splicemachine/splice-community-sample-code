create table MODEL (
	MODEL_ID int NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(200),
	STATUS CHAR(1) DEFAULT 'A',
	VERSION SMALLINT DEFAULT 1,
	CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(30) DEFAULT 'SPLICE',
	UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_USER VARCHAR(30)  DEFAULT 'SPLICE',
	PRIMARY KEY (MODEL_ID, VERSION)
);

create table MODEL_FEATURES (
	FEATURE_ID int generated by default as identity (START WITH 2, INCREMENT BY 1),
	MODEL_ID int,
	FEATURE_NAME varchar(50),
	DATABASE_COLUMN_NAME VARCHAR(100),
	MODEL_DATA_TYPE VARCHAR(20),
	FEATURE_KEYS VARCHAR(500),
	FEATURE_BUCKET_DATA_TYPE VARCHAR(20),
	FEATURE_BUCKETS VARCHAR(500),
	IS_LABEL BOOLEAN,
	CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(30),
	UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_USER VARCHAR(30),
	PRIMARY KEY (FEATURE_ID)
);

create table MODEL_FEATURE_CROSS (
	MODEL_FEATURE_CROSS_ID int generated by default as identity (START WITH 2, INCREMENT BY 1),
	MODEL_ID int,	
	FEATURE_CROSS_NAME VARCHAR(50),
	FEATURE_NAME varchar(50),
	CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(30),
	UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_USER VARCHAR(30),
	PRIMARY KEY (MODEL_FEATURE_CROSS_ID)
);

create table MODEL_INPUTS (
	MODEL_INPUT_ID int generated by default as identity (START WITH 2, INCREMENT BY 1),
	MODEL_ID int NOT NULL,
	TRAINING_TABLE VARCHAR(200),
	TEST_TABLE VARCHAR(200),
	MODEL_OUTPUT_PATH VARCHAR(500),
	MODEL_TYPE VARCHAR(50),
	TRAINING_STEPS INTEGER,
	HASH_BUCKET_SIZE INTEGER,
	DIMENSIONS INTEGER,
	HIDDEN_UNITS VARCHAR(200),
	CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(30) DEFAULT 'SPLICE',
	UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_USER VARCHAR(30)  DEFAULT 'SPLICE',
	PRIMARY KEY (MODEL_INPUT_ID)
);

create table MODEL_CREATION_RESULTS (
	MODEL_RESULTS_ID int generated by default as identity (START WITH 2, INCREMENT BY 1),
	MODEL_ID int NOT NULL,
	MODEL_INPUT_ID int NOT NULL,
	START_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	END_TIME TIMESTAMP,
	STATUS VARCHAR(50),
	ACCURACY FLOAT,
	BASELINE_TARGET_MEAN FLOAT,
	THRESHOLD_MEAN FLOAT,
	AUC FLOAT,
	GLOBAL_STEP INTEGER,
	ACTUAL_TARGET_MEAN FLOAT,
	PREDICTION_MEAN FLOAT,
	LOSS FLOAT,
	PRECISION_POSITIVE_THRESHOLD_MEAN FLOAT,
	RECALL_POSITIVE_THRESHOLD_MEAN FLOAT,
	TRAINING_DATA_RESULTS VARCHAR(500),
	TEST_DATA_RESULTS VARCHAR(500),
	CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(30) DEFAULT 'SPLICE',
	UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UPDATE_USER VARCHAR(30)  DEFAULT 'SPLICE',
	PRIMARY KEY (MODEL_RESULTS_ID)
);
